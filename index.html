<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Furtune Teller</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/styles.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
        <script src="https://use.typekit.net/qzt6yny.js"></script>
        <script>try{Typekit.load({ async: true });}catch(e){}</script>
    </head>
    <body>
        <div class="centered">
                   <h1>Hello.</h1>
                   <h1>Welcome to Fortune Teller!</h1>
               </div>

               <div class="centered">
                   <div id="container">
                       <h2 id="mainSubhead">Pick a Color</h2>
                   
                       <svg id="wholething" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 305.574 305.479">
                         <g id="red">
                           <path fill="#D41F30" d="M152.787 152.74H15L0 0"/>
                           <path fill="#EC2127" d="M0 0l152.787 15v137.74"/>
                         </g>
                         <g id="purple" data-letters="6">
                           <path fill="#8F64AA" d="M152.787 152.74H15.084l-15 152.74"/>
                           <path fill="#A771B0" d="M.084 305.48l152.703-15V152.74"/>
                         </g>
                         <g id="blue">
                           <path fill="#0195CC" d="M152.787 152.74h137.787l15-152.74"/>
                           <path fill="#15A3DD" d="M305.574 0L152.787 15v137.74"/>
                         </g>
                         <g id="green">
                           <path fill="#00AE4C" d="M152.787 152.74H290.49l15 152.74"/>
                           <path fill="#42B760" d="M305.49 305.48l-152.703-15V152.74"/>
                         </g>
                         <g id="inside">
                           <path id="redshadow" fill="#bc1127" d="M153.357 14.666v137.74H15.54"/>
                           <path id="purpleshadow" fill="#715391" d="M153.357 290.145V152.407H15.625"/>
                           <path id="blueshadow" fill="#0080b3" d="M153.357 14.666v137.74h137.457"/>
                           <path id="greenshadow" fill="#009542" d="M153.357 290.145V152.407H290.73"/>
                         </g>
                         <g id="icons1">
                           <path id="fish" fill="#ffffff" d="M75.4,117.6l22.9-13.8l22.7,13.7l9.7-8.9v17.9l-9.7-8.7l-22.7,13.8L75.4,117.6z M83.7,120.3l4.5-3.1
                            l-4.5-2.6V120.3z"/>
                           <polygon id="snake" fill="#ffffff" points="108.4,197.7 100.8,192.2 107.2,179.6 99,179.7 90.9,192.2 97.4,204.2 111.8,203.4 
                            118.1,192.2 115.6,186.6 119.3,180.1 126.5,176.6 137.6,180.1 129.5,187.3 123.8,186.8 125.9,193.1 115.3,210.7 93.8,210.5 
                            83.8,192.2 95.3,173.7 109.6,173.7 113.1,180.1 105.2,192.2 "/>
                           <path id="martini" fill="#ffffff" d="M174.4,99.3h33.2l7.8-7.3l0.1,2.4l-4.6,4.6h4.3l-19,19.4v15.3l7.6,2.9h-18.5l8.1-2.9l-0.1-15.3
                            L174.4,99.3z M197.4,110.8l2.8-0.1l1.6-2.4L199,106l-2.8,2.3L197.4,110.8z"/>
                           <g id="guitar">
                              <rect x="212.5" y="170" fill="#ffffff" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -59.107 203.0874)" width="6.3" height="5.8"/>
                              <path fill="#ffffff" d="M166.6,194.9l31.3-13.4l2.5,2.5l9-9l4.1,4.1l-9,9l2.5,2.5l-13.4,31.3l-2.5-24.5L166.6,194.9z M195.5,197.1
                              l6.7-6.7l-4.1-4.1l-6.7,6.7L195.5,197.1z"/>
                           </g>
                         </g>
                       </svg>

                       <div id="containerNumbers">
                           <div id="redNum">
                               <h3 class="top-left"></h3>
                           </div>
                           <div id="blueNum">
                               <h3 class="top-right"></h3>
                           </div>
                           <div id="purpleNum">
                               <h3 class="bottom-left"></h3>
                           </div>
                           <div id="greenNum">
                               <h3 class="bottom-right"></h3>
                           </div>
                       </div>
                   </div>
               </div>


    <!-- always use attr:{} if you want to animate a svg attribute because by default GSAP will assume its a css property first.
        or to be really anal always use this specifice syntax css:{} or attr:{} 
        example
        .to(svgDot, 0.7, {attr:{cx: 100, cy: 100}, ease:Power2.easeInOut}, '-=0.7')-->


        <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.12.0.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>

        <!--CDN link for  TweenMax-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js"></script>
        <script src="js/main.js"></script>

        <script>

        // should I use a js linter? http://www.jslint.com/

            $(document).ready(function() {
                var h1 = $("h1"),
                    wholeThing = $("#wholething"),
                    red = $("#red"),
                    inside = $("#inside"),
                    mainSubhead = $("#mainSubhead"),
                    masterTl = new TimelineMax(),
                    color,
                    num,
                    numTopLeft = getRandomInt(4, 7),
                    numTopRight = getRandomInt(1, 3),
                    numBottomLeft = getRandomInt(8, 11),
                    numBottomRight = getRandomInt(12, 15);
                    // iconTopLeft = nth child;


                function sideways() {
                    var tl = new TimelineMax();
                        tl.fromTo(inside, .3, {scaleX: 0, scaleY: 1, transformOrigin: "50% 50%", autoAlpha: .9}, {scaleX: 1, scaleY: 1, transformOrigin: "50% 50%", autoAlpha: 1, ease:Power2.easeInOut})
                        tl.to(inside, .3, {scaleX: 0, scaleY: 1, transformOrigin: "50% 50%", autoAlpha: .9, ease:Power2.easeInOut});
                    return tl;
                }

                function sidewaysHalfOpen() {
                    var tl = new TimelineMax();
                        tl.fromTo(inside, .3, {scaleX: 0, scaleY: 1, transformOrigin: "50% 50%", autoAlpha: .9}, {scaleX: 1, scaleY: 1, transformOrigin: "50% 50%", autoAlpha: 1, ease:Power2.easeInOut});
                    return tl;
                }

                function sidewaysHalfClose() {
                    var tl = new TimelineMax();
                        // tl.set(inside, {scaleX: 1, scaleY: 1, autoAlpha: 1})
                        tl.fromTo(inside, .3, {scaleX: 1, scaleY: 1, transformOrigin: "50% 50%", autoAlpha: 1}, {scaleX: 0, scaleY: 1, transformOrigin: "50% 50%", autoAlpha: 1, ease:Power2.easeInOut});
                    return tl;
                }

                function sidewaysHalfClose2() {
                    var tl = new TimelineMax();
                        tl.to(inside, .3, {scaleX: 0, scaleY: 1, transformOrigin: "50% 50%", autoAlpha: 1, ease:Power2.easeInOut});
                    return tl;
                }

                function upDown() {
                    var tl = new TimelineMax();
                        tl.fromTo(inside, .3, {scaleY: 0, scaleX: 1, transformOrigin: "50% 50%", autoAlpha: .9}, 
                            {scaleY: 1, scaleX: 1, transformOrigin: "50% 50%", autoAlpha: 1, ease:Power2.easeInOut})
                        tl.to(inside, .3, {scaleY: 0, scaleX: 1, transformOrigin: "50% 50%", autoAlpha: .9, ease:Power2.easeInOut});
                    return tl;
                }

                function upDownHalfOpen() {
                    var tl = new TimelineMax();
                        tl.fromTo(inside, .3, {scaleY: 0, scaleX: 1, transformOrigin: "50% 50%", autoAlpha: .9}, {scaleY: 1, scaleX: 1, transformOrigin: "50% 50%", autoAlpha: 1, ease:Power2.easeInOut});
                    return tl;
                }


                function upDownHalfClose() {
                    var tl = new TimelineMax();
                        tl.set(inside, {scaleX: 1, scaleY: 1, autoAlpha: 1})
                        tl.fromTo(inside, .3, {scaleX: 1, scaleY: 1, transformOrigin: "50% 50%", autoAlpha: 1}, {scaleY: 0, scaleX: 1, transformOrigin: "50% 50%", autoAlpha: 1, ease:Power2.easeInOut});
                    return tl;
                }


                // Returns a random integer between min (inclusive) and max (inclusive)
                function getRandomInt(min, max) {
                    return Math.floor(Math.random() * (max - min + 1)) + min;
                }

                function addNumbers() {

                    var containerNumbers = $('#containerNumbers'),
                        redNumster = $( ".top-left" ),
                        blueNumster = $( ".top-right" ),
                        purpleNumster = $( ".bottom-left" ),
                        greenNumster = $( ".bottom-right" ),
                        hello = "Pick a Number",
                        tl = new TimelineMax();

                        $( "#red" ).off();
                        $( "#blue" ).off();
                        $( "#purple" ).off();
                        $( "#green" ).off();

                        console.log("hello function");

                        tl
                          .set(containerNumbers, {css: {display: "block"}})
                          .set(mainSubhead.text(hello), {y:0, autoAlpha: 1})
                          .set(redNumster.text(numTopLeft), {autoAlpha: 1})
                          .set(blueNumster.text(numTopRight), {autoAlpha: 1})
                          .set(purpleNumster.text(numBottomLeft), {autoAlpha: 1})
                          .set(greenNumster.text(numBottomRight), {autoAlpha: 1});

                    return tl;
                    // return console.log("hello Test from github" + " " + color);
                }

                function addNumbersEase() {
                  var containerNumbers = $("#containerNumbers"),
                      redNumster = $( ".top-left" ),
                      blueNumster = $( ".top-right" ),
                      purpleNumster = $( ".bottom-left" ),
                      greenNumster = $( ".bottom-right" ),
                      tlease = new TimelineMax();

                      console.log("hello numbers function with ease");

                      $( "#red" ).off();
                      $( "#blue" ).off();
                      $( "#purple" ).off();
                      $( "#green" ).off();

                      tlease
                        .set(containerNumbers, {css: {display: "block"}})
                        .fromTo(mainSubhead.text("Pick a Number"), .3, {y:0, autoAlpha:0}, {y:0, autoAlpha: 1, ease:Power2.easeInOut}, "together")
                        .fromTo(redNumster.text(numTopLeft), .3, {autoAlpha: 0}, {autoAlpha: 1, ease:Power2.easeInOut}, "together")
                        .fromTo(blueNumster.text(numTopRight), .3, {autoAlpha: 0}, {autoAlpha: 1, ease:Power2.easeInOut}, "together")
                        .fromTo(purpleNumster.text(numBottomLeft), .3, {autoAlpha: 0}, {autoAlpha: 1, ease:Power2.easeInOut}, "together")
                        .fromTo(greenNumster.text(numBottomRight), .3, {autoAlpha: 0}, {autoAlpha: 1, ease:Power2.easeInOut}, "together");

                  return tlease;
                  // return console.log("hello Test from github" + " " + color);
                }

                function addIcons() {
                  console.log("hello add icons function");
                  var tl = new TimelineMax();

                    tl.fromTo(mainSubhead.text("Pick a Thing"), .3, {y:0, autoAlpha:0}, {y:0, autoAlpha: 1, ease:Power2.easeInOut});

                    // alert(inputs[i].id);
                    // var x = nth child .id
                    // num= x.length

                  return tl;
                }
                
                // .fromTo(inside, 1, {css: {left: "100px", top: "100px"}}, {css:{left:"130px", top: "130px"}} )

                CSSPlugin.defaultSmoothOrigin = true;


                $('#red').on('click', function() {
                    // debugger;
                    color = 'red';
                    var redTl = new TimelineMax({onComplete: addNumbersEase});

                    redTl
                        .to(mainSubhead, .3, {y: -80, delay: .5, autoAlpha: 0, ease: Power2.easeInOut}, "-=1")
                        .add( upDown() )
                        .add( sideways() )
                        .add( upDownHalfOpen() );  

                    return redTl;

                        // than remove all color event handlers so they dont interfere with icon event handlers
                });

                $('#red2').on('click', function() {
                    color = 'red';
                    num = color.length;

                    var redTl= new TimelineMax({onComplete: part2}); 

                      redTl.to(mainSubhead, .3, {y: -80, delay: .5, autoAlpha: 0, ease: Power2.easeInOut}, "-=1");
                      
                    return redTl;
                });

                $('#purple').on('click', function() {
                    color = 'purple';
                    var purpleTl = new TimelineMax({onComplete: addNumbersEase});

                    purpleTl
                        .to(mainSubhead, .3, {y: -80, delay: .5, autoAlpha: 0, ease: Power2.easeInOut}, "-=1")
                        .add( upDown() )
                        .add( sideways() )
                        .add( upDown() )
                        .add( sideways() )
                        .add( upDown() )
                        .add( sidewaysHalfOpen() );

                    return purpleTl;
                });

                $('#blue').on('click', function() {
                    color = 'blue';
                    var blueTl = new TimelineMax({onComplete: addNumbersEase});

                    blueTl
                        .to(mainSubhead, .3, {y: -80, delay: .5, autoAlpha: 0, ease: Power2.easeInOut}, "-=1")
                        .add( upDown() )
                        .add( sideways() )
                        .add( upDown() )
                        .add( sidewaysHalfOpen() );

                    return blueTl;

                });

                $('#green').on('click', function() {
                    color = 'green';
                    var greenTl = new TimelineMax({onComplete: addNumbersEase});

                    greenTl
                        .to(mainSubhead, .3, {y: -80, delay: .5, autoAlpha: 0, ease: Power2.easeInOut}, "-=1")
                        .add( upDown() )
                        .add( sideways() )
                        .add( upDown() )
                        .add( sideways() )
                        .add( upDownHalfOpen() );

                    return greenTl;

                });

                // 88888888888888888888888888888

                // tlred = new TimelineMax({repeat: 3, onComplete: loadContent})

                $('#redNum').on('click', function() {
                    num = numTopLeft;

                    var tl= new TimelineMax({onComplete: part2}); 

                      tl.to(mainSubhead, 0.5, {delay: 0.5, autoAlpha: 0, ease: Power2.easeInOut})
                      tl.to(containerNumbers, 0.5, {autoAlpha: 0, ease: Power2.easeInOut}, "-=0.5")
                      tl.add( sidewaysHalfClose(), "+=0.5");
                      
                    return tl;
                });

                $('#blueNum').on('click', function() {
                    num = numTopRight;

                    var tl= new TimelineMax({onComplete: part2}); 

                      tl.to(mainSubhead, 0.5, {delay: 0.5, autoAlpha: 0, ease: Power2.easeInOut})
                      tl.to(containerNumbers, 0.5, {autoAlpha: 0, ease: Power2.easeInOut}, "-=0.5")
                      tl.add( sidewaysHalfClose(), "+=0.5");
                      
                    return tl;
                });

                $('#purpleNum').on('click', function() {
                    num = numBottomLeft;

                    var tl= new TimelineMax({onComplete: part2}); 

                      tl.to(mainSubhead, 0.5, {delay: 0.5, autoAlpha: 0, ease: Power2.easeInOut})
                      tl.to(containerNumbers, 0.5, {autoAlpha: 0, ease: Power2.easeInOut}, "-=0.5")
                      tl.add( sidewaysHalfClose(), "+=0.5");
                      
                    return tl;
                });

                $('#greenNum').on('click', function() {
                    num = numBottomRight;

                    var tl= new TimelineMax({onComplete: part2}); 

                      tl.to(mainSubhead, 0.5, {delay: 0.5, autoAlpha: 0, ease: Power2.easeInOut})
                      tl.to(containerNumbers, 0.5, {autoAlpha: 0, ease: Power2.easeInOut}, "-=0.5")
                      tl.add( sidewaysHalfClose(), "+=0.5");
                      
                    return tl;
                });

                function part2() {
                  // num = numTopLeft;
                  console.log(num);

                  var tl= new TimelineMax({onComplete: addIcons}); 

                    if (num%2 == 0) {
                      console.log("this is the even scenario");

                      for (var i = 0; i < (num-2)/2; i++) {
                          tl.add( upDown() )
                          tl.add( sideways() );
                      }
                      tl.add( upDown() )
                      tl.add( sidewaysHalfOpen() );
                    }
                    else {
                      console.log("this is the odd scenario");

                      for (var i = 0; i < (num-1)/2; i++) {
                          tl.add( upDown() )
                          tl.add( sideways() );
                      }
                      tl.add( upDownHalfOpen() );
                    }

                    tl.timeScale(1.0);
                    return tl;
                }

                // 88888888888888888888888888888

                masterTl
                    .set(wholeThing, {autoAlpha: 0})
                    .set(mainSubhead, {autoAlpha: 0})
                    .to(h1, .4, {y: -80, delay: 2.5, autoAlpha: 0, ease:Power3.easeIn})
                    .to(mainSubhead, .5, {y: 1, delay: .8, autoAlpha: 1, ease:Power3.easeIn})
                    .to(wholeThing, .5, {y: 1, autoAlpha: 1, ease:Power3.easeIn}, '-=0.5');

                // masterTl.timeScale(0.3);

            });
          
        </script>
    </body>
</html>
